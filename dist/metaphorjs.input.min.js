'use strict';(function(){function Q(a){return"object"==typeof a&&3===M(a)&&!a.nodeType&&a.constructor===Object}function X(a){return!0===a||!1===a}function N(a){return null===a}function x(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)}function K(a){return"string"==typeof a||a===""+a}function S(a){if(a&&void 0!=!a.length&&a!==""+a){for(var b=[],c=-1,e=a.length>>>0;++c!==e;b[c]=a[c]);return b}return a?[a]:[]}function ba(a,b,c,e){setTimeout(function(){a.apply(b,c||[])},e||0)}
function O(a){var b=a.stack||Error().stack;if("undefined"!=typeof console&&console.log)ba(function(){console.log(a);b&&console.log(b)});else throw a;}function U(){}function ca(a){return a.replace(da,function(a){return a.charAt(1).toUpperCase()})}var V={lib:{},cmp:{},view:{}},Y=Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},Z=Array.prototype.slice,ea=Object.prototype.toString,M=function(){var a={"[object String]":0,"[object Number]":1,
"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(b){if(!b){if(null===b)return 6;if(void 0===b)return 7}var c=a[ea.call(b)];return void 0===c?-1:1==c&&isNaN(b)?8:c}}(),fa=function(){return function b(){var c=!1,e=!1,d=Z.call(arguments),f=d.shift(),k,g,m;X(d[d.length-1])&&(c=d.pop());X(d[d.length-1])&&(e=c,c=d.pop());for(;d.length;)if(k=d.shift())for(g in k)if(k.hasOwnProperty(g)&&void 0!==(m=k[g]))if(e)if(f[g]&&
Q(f[g])&&Q(m))b(f[g],m,c,e);else{if(!0===c||void 0==f[g])Q(m)?(f[g]={},b(f[g],m,c,!0)):f[g]=m}else if(!0===c||void 0==f[g])f[g]=m;return f}}(),ga=function(){return String.prototype.trim?function(a){return K(a)?a.trim():a}:function(a){return K(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}(),L=function(){var a=/\r/,b={option:function(a){var b=a.getAttribute("value")||a.value;return void 0!=b?b:ga(a.innerText||a.textContent)},select:function(a){for(var b,d=a.options,f=a.selectedIndex,k=(a="select-one"===
a.type||0>f)?null:[],g=a?f+1:d.length,m,u=0>f?g:a?f:0;u<g;u++)if(b=d[u],m=b.disabled||b.parentNode.disabled,(b.selected||u===f)&&!m){b=L(b);if(a)return b;k.push(b)}return k},radio:function(a){return N(a.getAttribute("value"))?"on":a.value},checkbox:function(a){return N(a.getAttribute("value"))?"on":a.value}};return function(c){var e,d;if((e=b[c.type]||b[c.nodeName.toLowerCase()])&&void 0!==(d=e(c,"value")))return d;d=c.value;return K(d)?d.replace(a,""):null==d?"":d}}(),z=Array.prototype.indexOf;z||
(z=Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),d=e.length>>>0;if(0===d)return-1;c=+b||0;Infinity===Math.abs(c)&&(c=0);if(c>=d)return-1;for(c=Math.max(0<=c?c:d-Math.abs(c),0);c<d;){if(c in e&&e[c]===a)return c;c++}return-1});var $=function(){var a={select:function(a,c){for(var e,d,f=a.options,k=S(c),g=f.length,m,u=-1;g--;)d=f[g],(m=k?-1!=z.call(k,d.value):!1)?(d.setAttribute("selected","selected"),e=!0):d.removeAttribute("selected"),
m||N(d.getAttribute("mjs-default-option"))||(u=g);e||(a.selectedIndex=u);return k}};a.radio=a.checkbox=function(a,c){if("object"==typeof c&&5===M(c)){var e;e=L(a);e=c?-1!=z.call(c,e):!1;return a.checked=e}};return function(b,c){if(1===b.nodeType){null===c?c="":1===M(c)&&(c+="");var e=a[b.type]||a[b.nodeName.toLowerCase()];e&&void 0!==e(b,c,"value")||(b.value=c)}}}(),W=navigator.userAgent.toLowerCase(),ha=function(){var a=parseInt((/android (\d+)/.exec(W)||[])[1],10)||!1;return function(){return a}}(),
ia=function(){var a=parseInt((/msie (\d+)/.exec(W)||[])[1],10);isNaN(a)&&(a=parseInt((/trident\/.*; rv:(\d+)/.exec(W)||[])[1],10)||!1);return function(){return a}}(),aa=function(){var a={};return function(b){if(void 0===a[b]){if("input"==b&&9==ia())return a[b]=!1;var c=document.createElement("div");a[b]=!!("on"+b in c)}return a[b]}}(),ma=function(){var a=/^[\w[:#.][\w\]*^|=!]*$/,b=/=([^\]]+)/,c=/ *, */,e=/(\([^)]*)\+/,d=/(\[[^\]]+)~/,f=/(~|>|\+)/,k=/ +/,g=/([^[:.#]+)?(?:#([^[:.#]+))?(?:\.([^[:.]+))?(?:\[([^!&^*|$[:=]+)([!$^*|&]?=)?([^:\]]+)?\])?(?::([^(]+)(?:\(([^)]+)\))?)?/,
m=/(?:(-?\d*)n)?(?:(%|-)(\d*))?/,u=/\D/,ja=/[^(]*\(([^)]*)\)/,x=/\(.*/,ka=/\[([^!~^*|$ [:=]+)([$^*|]?=)?([^ :\]]+)?\]/,P=document,la=!!P.getElementsByClassName,L=!!P.querySelectorAll,B={"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]!==a},"last-child":function(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return!!a},root:function(a){return"html"!==a.nodeName.toLowerCase()},"nth-child":function(a,b){var c=a.nodeIndex||0,d=b[3]=b[3]?("%"===b[2]?-1:1)*b[3]:0,e=b[1];if(c)return!((c+
d)%e);var f=a.parentNode.firstChild;c++;do if(1==f.nodeType&&(f.nodeIndex=++c)&&a===f&&(c+d)%e)return 0;while(f=f.nextSibling);return 1},"nth-last-child":function(a,b){var c=a.nodeIndexLast||0,d=b[3]?("%"===b[2]?-1:1)*b[3]:0,e=b[1];if(c)return!((c+d)%e);var f=a.parentNode.lastChild;c++;do if(1==f.nodeType&&(f.nodeLastIndex=c++)&&a===f&&(c+d)%e)return 0;while(f=f.previousSibling);return 1},empty:function(a){return!!a.firstChild},parent:function(a){return!a.firstChild},"only-child":function(a){return 1!=
a.parentNode.getElementsByTagName("*").length},checked:function(a){return!a.checked},lang:function(a,b){return a.lang!==b&&P.documentElement.lang!==b},enabled:function(a){return a.disabled||"hidden"===a.type},disabled:function(a){return!a.disabled},selected:function(a){return!a.selected}},z={},D=function(a){return z[a]||(z[a]=new RegExp("(^| +)"+a+"($| +)"))},w={"":function(a,b){return null!==a.getAttribute(b)},"=":function(a,b,c){var d;return(d=a.getAttribute(b))&&d===c},"&=":function(a,b,c){var d;
return(d=a.getAttribute(b))&&D(c).test(d)},"^=":function(a,b,c){var d;return(d=a.getAttribute(b)+"")&&!d.indexOf(c)},"$=":function(a,b,c){var d;return(d=a.getAttribute(b)+"")&&d.indexOf(c)==d.length-c.length},"*=":function(a,b,c){var d;return(d=a.getAttribute(b)+"")&&-1!=d.indexOf(c)},"|=":function(a,b,c){var d;return(d=a.getAttribute(b)+"")&&(d===c||!!d.indexOf(c+"-"))},"!=":function(a,b,c){var d;return!(d=a.getAttribute(b))||!D(c).test(d)}},J=function(A,E){E=E||P;var l=[],q=null,r,v,y,h,C,s,t;if(L)try{l=
S(E.querySelectorAll(A.replace(b,'="$1"')))}catch(J){q=!0}if(!L||q)if(a.test(A))switch(q=0,A.charAt(0)){case "#":q=A.slice(1);l=P.getElementById(q);l.id!==q&&(l=P.all[q]);l=l?[l]:[];break;case ".":r=A.slice(1);if(la)l=S((l=E.getElementsByClassName(r)).length?l:[]);else{r=" "+r+" ";v=E.getElementsByTagName("*");for(y=0;h=v[y++];)-1!=(" "+h.className+" ").indexOf(r)&&(l[q++]=h);l=q?l:[]}break;case ":":v=E.getElementsByTagName("*");y=0;C=A.replace(ja,"$1");for(s=A.replace(x,"");h=v[y++];)B[s]&&!B[s](h,
C)&&(l[q++]=h);l=q?l:[];break;case "[":v=E.getElementsByTagName("*");y=0;h=ka.exec(A);r=h[1];t=h[2]||"";for(C=h[3];h=v[y++];)w[t]&&(w[t](h,r,C)||"class"===r&&w[t](h,"className",C))&&(l[q++]=h);l=q?l:[];break;default:l=S((l=E.getElementsByTagName(A)).length?l:[])}else{for(var z=A.split(c),D=z.length-1,Q=!!D,M,N,p,K,F,G,H,I,O,n,R,T;q=z[D--];){N=(M=q.replace(e,"$1%").replace(d,"$1&").replace(f," $1 ").split(k)).length;y=0;K=" ";for(v=[E];p=M[y++];)if(" "!==p&&">"!==p&&"~"!==p&&"+"!==p&&v){p=p.match(g);
F=p[1]||"*";G=p[2];H=p[3]?" "+p[3]+" ":"";r=p[4];t=p[5]||"";s=p[7];C="nth-child"===s||"nth-last-child"===s?m.exec("even"===p[8]&&"2n"||"odd"===p[8]&&"2n%1"||!u.test(p[8])&&"0n%"+p[8]||p[8]):p[8];I=[];q=O=0;for(R=y==N;n=v[O++];)switch(K){case " ":T=n.getElementsByTagName(F);for(n=0;h=T[n++];)G&&h.id!==G||H&&-1==(" "+h.className+" ").indexOf(H)||!(!r||w[t]&&(w[t](h,r,p[6])||"class"===r&&w[t](h,"className",p[6])))||h.yeasss||(B[s]?B[s](h,C):s)||(R&&(h.yeasss=1),I[q++]=h);break;case "~":for(F=F.toLowerCase();(n=
n.nextSibling)&&!n.yeasss;)1!=n.nodeType||"*"!==F&&n.nodeName.toLowerCase()!==F||G&&n.id!==G||H&&-1==(" "+n.className+" ").indexOf(H)||!(!r||w[t]&&(w[t](h,r,p[6])||"class"===r&&w[t](h,"className",p[6])))||n.yeasss||(B[s]?B[s](n,C):s)||(R&&(n.yeasss=1),I[q++]=n);break;case "+":for(;(n=n.nextSibling)&&1!=n.nodeType;);!n||n.nodeName.toLowerCase()!==F.toLowerCase()&&"*"!==F||G&&n.id!==G||H&&-1==(" "+h.className+" ").indexOf(H)||!(!r||w[t]&&(w[t](h,r,p[6])||"class"===r&&w[t](h,"className",p[6])))||n.yeasss||
(B[s]?B[s](n,C):s)||(R&&(n.yeasss=1),I[q++]=n);break;case ">":for(T=n.getElementsByTagName(F),y=0;h=T[y++];)h.parentNode!==n||G&&h.id!==G||H&&-1==(" "+h.className+" ").indexOf(H)||!(!r||w[t]&&(w[t](h,r,p[6])||"class"===r&&w[t](h,"className",p[6])))||h.yeasss||(B[s]?B[s](h,C):s)||(R&&(h.yeasss=1),I[q++]=h)}v=I}else K=p;if(Q){if(!v.concat){I=[];for(n=0;h=v[n];)I[n++]=h;v=I}l=v.concat(1==l.length?l[0]:l)}else l=v}for(q=l.length;q--;)l[q].yeasss=l[q].nodeIndex=l[q].nodeIndexLast=null}return l};J.is=function(a,
b){var c=J(b,a.parentNode),d,e;d=-1;for(e=c.length;++d<e;)if(c[d]===a)return!0;return!1};return J}(),na=function(){var a=["0","0","0"];return function(){for(var b=a.length,c;b;){b--;c=a[b].charCodeAt(0);if(57==c)return a[b]="A",a.join("");if(90==c)a[b]="0";else return a[b]=String.fromCharCode(c+1),a.join("")}a.unshift("0");return a.join("")}}(),D=function(){var a={};return function(b,c,e){b=b._mjsid||(b._mjsid=na());var d=a[b];return void 0!==e?(d||(d=a[b]={}),d[c]=e):d?d[c]:void 0}}(),oa=function(){var a=
/(^|[^a-z0-9_$])(\.)([^0-9])/ig,b=Function,c=function(a,b){return function(c){var d=Z.call(arguments),e;d.push(null);d.push(a);if(b){for(e=a.apply(null,d);(void 0===e||"number"==typeof e&&isNaN(e))&&!c.$isRoot;)c=c.$parent,d[0]=c,e=a.apply(null,d);return e}return a.apply(null,d)}},e={},d=0,f={},k=0,g={},m=0,u=function(){1E3<=d&&(e={});1E3<=k&&(f={});1E3<=m&&(g={})};return{createGetter:function(f){try{return e[f]?e[f]:(d++,e[f]=c(new b("____","$$interceptor","$$itself","".concat("try {","return ",
f.replace(a,"$1____.$3"),";} catch (thrownError) { return undefined; }")),!0))}catch(g){return O(g),U}},createSetter:function(d){try{if(!f[d]){k++;var e=d.replace(a,"$1____.$3");return f[d]=c(new b("____","$$$$","$$interceptor","$$itself","".concat("try {",e," = $$$$",";} catch (thrownError) { return undefined; }")))}return f[d]}catch(g){return O(g),U}},createFunc:function(d){try{return g[d]?g[d]:(m++,g[d]=c(new b("____","$$interceptor","$$itself","".concat("try {",d.replace(a,"$1____.$3"),";} catch (thrownError) { return undefined; }"))))}catch(e){return O(e),
U}},resetCache:u,enableResetCacheInterval:function(){setTimeout(u,1E4)}}}().createGetter,da=/-./g,pa=function(){return document.documentElement.dataset?function(a){return a.dataset}:function(a){var b;if(void 0!==(b=D(a,"data")))return b;b=a.attributes;var c={},e,d,f;e=0;for(d=b.length;e<d;e++)f=b[e].name,0===f.indexOf("data-")&&(c[ca(f.substr(5))]=b[e].value);b=c;D(a,"data",b);return b}}(),J=function(a,b,c,e){var d=void 0,f=D(a,"config"),k,g;if(!f){f={};if(d||null!==(d=a.getAttribute("mjs-config")))for(k in a.removeAttribute("mjs-config"),
d=d?oa(d)({}):{},d)f[k]=d[k];d=pa(a);for(k in d)g=d[k],f[k]=""===g?!0:g;D(a,"config",f)}this.el=a;this.cb=b;this.scb=e;this.cbContext=c;this.inputType=b=f.type||a.type.toLowerCase();this.listeners=[];c=a.type?a.type.toLowerCase():"";this.submittable="input"==a.nodeName.toLowerCase()&&"radio"!=c&&"checkbox"!=c;"radio"==b?this.initRadioInput():"checkbox"==b?this.initCheckboxInput():this.initTextInput()};fa(J.prototype,{el:null,inputType:null,cb:null,scb:null,cbContext:null,listeners:[],radio:null,submittable:!1,
destroy:function(){var a=this.inputType,b=this.listeners,c=this.radio,e=this.el,d,f,k,g;d=0;for(f=b.length;d<f;d++)if("radio"==a)for(k=0,g=c.length;k<g;k++){var m=c[k],u=b[d][0],x=b[d][1];m.detachEvent?m.detachEvent("on"+u,x):m.removeEventListener(u,x,!1)}else k=e,g=b[d][0],m=b[d][1],k.detachEvent?k.detachEvent("on"+g,m):k.removeEventListener(g,m,!1);for(d in this)this.hasOwnProperty(d)&&(this[d]=null)},initRadioInput:function(){var a,b,c;this.radio=a=ma("input[name="+this.el.name+"]");this.onRadioInputChangeDelegate=
Y(this.onRadioInputChange,this);this.listeners.push(["click",this.onRadioInputChangeDelegate]);b=0;for(c=a.length;b<c;b++)x(a[b],"click",this.onRadioInputChangeDelegate)},initCheckboxInput:function(){this.onCheckboxInputChangeDelegate=Y(this.onCheckboxInputChange,this);this.listeners.push(["click",this.onCheckboxInputChangeDelegate]);x(this.el,"click",this.onCheckboxInputChangeDelegate)},initTextInput:function(){var a=!1,b=this,c=b.el,e=b.listeners,d;if(!ha()){var f=function(){a=!0},k=function(){a=
!1;g()};e.push(["compositionstart",f]);e.push(["compositionend",k]);x(c,"compositionstart",f);x(c,"compositionend",k)}var g=b.onTextInputChangeDelegate=function(){if(!a)b.onTextInputChange()};if(aa("input"))e.push(["input",g]),x(c,"input",g);else{var m=function(a){d||(d=window.setTimeout(function(){g(a);d=null},0))},f=function(a){a=a||window.event;var c=a.keyCode;if(13==c&&b.submittable&&b.scb)return b.scb.call(b.cbContext,a);91===c||15<c&&19>c||37<=c&&40>=c||m(a)};e.push(["keydown",f]);x(c,"keydown",
f);aa("paste")&&(e.push(["paste",m]),e.push(["cut",m]),x(c,"paste",m),x(c,"cut",m))}e.push(["change",g]);x(c,"change",g)},processValue:function(a){switch(this.inputType){case "number":a=parseInt(a,10),isNaN(a)&&(a=0)}return a},onTextInputChange:function(){var a=this.getValue();this.cb&&this.cb.call(this.cbContext,a)},onCheckboxInputChange:function(){var a=this.el;this.cb&&this.cb.call(this.cbContext,a.checked?a.getAttribute("value")||!0:!1)},onRadioInputChange:function(a){a=a||window.event;a=a.target||
a.srcElement;this.cb&&this.cb.call(this.cbContext,a.value)},setValue:function(a){var b=this.inputType,c,e;if("radio"==b)for(b=this.radio,c=0,e=b.length;c<e;c++)b[c].checked=b[c].value==a;else"checkbox"==b?(b=this.el,b.checked=!0===a||a==b.value):$(this.el,a)},getValue:function(){var a=this.inputType,b,c;if("radio"==a){a=this.radio;b=0;for(c=a.length;b<c;b++)if(a[b].checked)return a[b].value;return null}return"checkbox"==a?this.el.checked?this.el.getAttribute("value")||!0:!1:this.processValue(L(this.el))}},
!0,!1);J.getValue=L;J.setValue=$;V.lib.Input=J;"undefined"!=typeof global?global.MetaphorJs=V:window.MetaphorJs=V})();
