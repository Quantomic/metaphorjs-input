(function(){var O={lib:{},cmp:{},view:{}},W=Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},x=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},L=function(a){return null===a},aa=Object.prototype.toString,X=function(){var a={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(b){if(!b){if(null===
b)return 6;if(void 0===b)return 7}var c=a[aa.call(b)];return void 0===c?-1:1==c&&isNaN(b)?8:c}}(),P=function(a){return"string"==typeof a||a===""+a},ba=function(){return String.prototype.trim?function(a){return P(a)?a.trim():a}:function(a){return P(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}(),z=function(){var a=/\r/,b={option:function(a){var b=a.getAttribute("value")||a.value;return void 0!=b?b:ba(a.innerText||a.textContent)},select:function(a){for(var b,d=a.options,k=a.selectedIndex,f=(a=
"select-one"===a.type||0>k)?null:[],n=a?k+1:d.length,p,u=0>k?n:a?k:0;u<n;u++)if(b=d[u],p=b.disabled||b.parentNode.disabled,(b.selected||u===k)&&!p){b=z(b);if(a)return b;f.push(b)}return f},radio:function(a){return L(a.getAttribute("value"))?"on":a.value},checkbox:function(a){return L(a.getAttribute("value"))?"on":a.value}};return function(c){var e,d;if((e=b[c.type]||b[c.nodeName.toLowerCase()])&&void 0!==(d=e(c,"value")))return d;d=c.value;return P(d)?d.replace(a,""):null==d?"":d}}(),T=function(a){if(a&&
void 0!=!a.length&&a!==""+a){for(var b=[],c=-1,e=a.length>>>0;++c!==e;b[c]=a[c]);return b}return a?[a]:[]},A=Array.prototype.indexOf;A||(A=Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),d=e.length>>>0;if(0===d)return-1;c=+b||0;Infinity===Math.abs(c)&&(c=0);if(c>=d)return-1;for(c=Math.max(0<=c?c:d-Math.abs(c),0);c<d;){if(c in e&&e[c]===a)return c;c++}return-1});var Y=function(){var a={select:function(a,c){for(var e,
d,k=a.options,f=T(c),n=k.length,p,u=-1;n--;)d=k[n],(p=f?-1!=A.call(f,d.value):!1)?(d.setAttribute("selected","selected"),e=!0):d.removeAttribute("selected"),p||L(d.getAttribute("mjs-default-option"))||(u=n);e||(a.selectedIndex=u);return f}};a.radio=a.checkbox=function(a,c){if("object"==typeof c&&5===X(c)){var e;e=z(a);e=c?-1!=A.call(c,e):!1;return a.checked=e}};return function(b,c){if(1===b.nodeType){null===c?c="":1===X(c)&&(c+="");var e=a[b.type]||a[b.nodeName.toLowerCase()];e&&void 0!==e(b,c,"value")||
(b.value=c)}}}(),V=navigator.userAgent.toLowerCase(),ca=function(){var a=parseInt((/android (\d+)/.exec(V)||[])[1],10)||!1;return function(){return a}}(),da=function(){var a=parseInt((/msie (\d+)/.exec(V)||[])[1],10);isNaN(a)&&(a=parseInt((/trident\/.*; rv:(\d+)/.exec(V)||[])[1],10)||!1);return function(){return a}}(),Z=function(){var a={};return function(b){if(void 0===a[b]){if("input"==b&&9==da())return a[b]=!1;var c=document.createElement("div");a[b]=!!("on"+b in c)}return a[b]}}(),ga=function(){var a=
/^[\w[:#.][\w\]*^|=!]*$/,b=/=([^\]]+)/,c=/ *, */,e=/(\([^)]*)\+/,d=/(\[[^\]]+)~/,k=/(~|>|\+)/,f=/ +/,n=/([^[:.#]+)?(?:#([^[:.#]+))?(?:\.([^[:.]+))?(?:\[([^!&^*|$[:=]+)([!$^*|&]?=)?([^:\]]+)?\])?(?::([^(]+)(?:\(([^)]+)\))?)?/,p=/(?:(-?\d*)n)?(?:(%|-)(\d*))?/,u=/\D/,M=/[^(]*\(([^)]*)\)/,ea=/\(.*/,fa=/\[([^!~^*|$ [:=]+)([$^*|]?=)?([^ :\]]+)?\]/,Q=document,x=!!Q.getElementsByClassName,K=!!Q.querySelectorAll,C={"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]!==a},"last-child":function(a){for(;(a=
a.nextSibling)&&1!=a.nodeType;);return!!a},root:function(a){return"html"!==a.nodeName.toLowerCase()},"nth-child":function(a,b){var c=a.nodeIndex||0,d=b[3]=b[3]?("%"===b[2]?-1:1)*b[3]:0,e=b[1];if(c)return!((c+d)%e);var f=a.parentNode.firstChild;c++;do if(1==f.nodeType&&(f.nodeIndex=++c)&&a===f&&(c+d)%e)return 0;while(f=f.nextSibling);return 1},"nth-last-child":function(a,b){var c=a.nodeIndexLast||0,d=b[3]?("%"===b[2]?-1:1)*b[3]:0,e=b[1];if(c)return!((c+d)%e);var f=a.parentNode.lastChild;c++;do if(1==
f.nodeType&&(f.nodeLastIndex=c++)&&a===f&&(c+d)%e)return 0;while(f=f.previousSibling);return 1},empty:function(a){return!!a.firstChild},parent:function(a){return!a.firstChild},"only-child":function(a){return 1!=a.parentNode.getElementsByTagName("*").length},checked:function(a){return!a.checked},lang:function(a,b){return a.lang!==b&&Q.documentElement.lang!==b},enabled:function(a){return a.disabled||"hidden"===a.type},disabled:function(a){return!a.disabled},selected:function(a){return!a.selected}},
z={},A=function(a){return z[a]||(z[a]=new RegExp("(^| +)"+a+"($| +)"))},w={"":function(a,b){return null!==a.getAttribute(b)},"=":function(a,b,c){var d;return(d=a.getAttribute(b))&&d===c},"&=":function(a,b,c){var d;return(d=a.getAttribute(b))&&A(c).test(d)},"^=":function(a,b,c){var d;return(d=a.getAttribute(b)+"")&&!d.indexOf(c)},"$=":function(a,b,c){var d;return(d=a.getAttribute(b)+"")&&d.indexOf(c)==d.length-c.length},"*=":function(a,b,c){var d;return(d=a.getAttribute(b)+"")&&-1!=d.indexOf(c)},"|=":function(a,
b,c){var d;return(d=a.getAttribute(b)+"")&&(d===c||!!d.indexOf(c+"-"))},"!=":function(a,b,c){var d;return!(d=a.getAttribute(b))||!A(c).test(d)}},J=function(B,E){E=E||Q;var h=[],q=null,r,v,y,g,D,s,t;if(K)try{h=T(E.querySelectorAll(B.replace(b,'="$1"')))}catch(J){q=!0}if(!K||q)if(a.test(B))switch(q=0,B.charAt(0)){case "#":q=B.slice(1);h=Q.getElementById(q);h.id!==q&&(h=Q.all[q]);h=h?[h]:[];break;case ".":r=B.slice(1);if(x)h=T((h=E.getElementsByClassName(r)).length?h:[]);else{r=" "+r+" ";v=E.getElementsByTagName("*");
for(y=0;g=v[y++];)-1!=(" "+g.className+" ").indexOf(r)&&(h[q++]=g);h=q?h:[]}break;case ":":v=E.getElementsByTagName("*");y=0;D=B.replace(M,"$1");for(s=B.replace(ea,"");g=v[y++];)C[s]&&!C[s](g,D)&&(h[q++]=g);h=q?h:[];break;case "[":v=E.getElementsByTagName("*");y=0;g=fa.exec(B);r=g[1];t=g[2]||"";for(D=g[3];g=v[y++];)w[t]&&(w[t](g,r,D)||"class"===r&&w[t](g,"className",D))&&(h[q++]=g);h=q?h:[];break;default:h=T((h=E.getElementsByTagName(B)).length?h:[])}else{for(var z=B.split(c),A=z.length-1,R=!!A,N,
O,m,L,F,G,H,I,P,l,S,U;q=z[A--];){O=(N=q.replace(e,"$1%").replace(d,"$1&").replace(k," $1 ").split(f)).length;y=0;L=" ";for(v=[E];m=N[y++];)if(" "!==m&&">"!==m&&"~"!==m&&"+"!==m&&v){m=m.match(n);F=m[1]||"*";G=m[2];H=m[3]?" "+m[3]+" ":"";r=m[4];t=m[5]||"";s=m[7];D="nth-child"===s||"nth-last-child"===s?p.exec("even"===m[8]&&"2n"||"odd"===m[8]&&"2n%1"||!u.test(m[8])&&"0n%"+m[8]||m[8]):m[8];I=[];q=P=0;for(S=y==O;l=v[P++];)switch(L){case " ":U=l.getElementsByTagName(F);for(l=0;g=U[l++];)G&&g.id!==G||H&&
-1==(" "+g.className+" ").indexOf(H)||!(!r||w[t]&&(w[t](g,r,m[6])||"class"===r&&w[t](g,"className",m[6])))||g.yeasss||(C[s]?C[s](g,D):s)||(S&&(g.yeasss=1),I[q++]=g);break;case "~":for(F=F.toLowerCase();(l=l.nextSibling)&&!l.yeasss;)1!=l.nodeType||"*"!==F&&l.nodeName.toLowerCase()!==F||G&&l.id!==G||H&&-1==(" "+l.className+" ").indexOf(H)||!(!r||w[t]&&(w[t](g,r,m[6])||"class"===r&&w[t](g,"className",m[6])))||l.yeasss||(C[s]?C[s](l,D):s)||(S&&(l.yeasss=1),I[q++]=l);break;case "+":for(;(l=l.nextSibling)&&
1!=l.nodeType;);!l||l.nodeName.toLowerCase()!==F.toLowerCase()&&"*"!==F||G&&l.id!==G||H&&-1==(" "+g.className+" ").indexOf(H)||!(!r||w[t]&&(w[t](g,r,m[6])||"class"===r&&w[t](g,"className",m[6])))||l.yeasss||(C[s]?C[s](l,D):s)||(S&&(l.yeasss=1),I[q++]=l);break;case ">":for(U=l.getElementsByTagName(F),y=0;g=U[y++];)g.parentNode!==l||G&&g.id!==G||H&&-1==(" "+g.className+" ").indexOf(H)||!(!r||w[t]&&(w[t](g,r,m[6])||"class"===r&&w[t](g,"className",m[6])))||g.yeasss||(C[s]?C[s](g,D):s)||(S&&(g.yeasss=
1),I[q++]=g)}v=I}else L=m;if(R){if(!v.concat){I=[];for(l=0;g=v[l];)I[l++]=g;v=I}h=v.concat(1==h.length?h[0]:h)}else h=v}for(q=h.length;q--;)h[q].yeasss=h[q].nodeIndex=h[q].nodeIndexLast=null}return h};J.is=function(a,b){var c=J(b,a.parentNode),d,e;d=-1;for(e=c.length;++d<e;)if(c[d]===a)return!0;return!1};return J}(),ha=function(){var a=["0","0","0"];return function(){for(var b=a.length,c;b;){b--;c=a[b].charCodeAt(0);if(57==c)return a[b]="A",a.join("");if(90==c)a[b]="0";else return a[b]=String.fromCharCode(c+
1),a.join("")}a.unshift("0");return a.join("")}}(),J=function(){var a={};return function(b,c,e){b=b._mjsid||(b._mjsid=ha());var d=a[b];return void 0!==e?(d||(d=a[b]={}),d[c]=e):d?d[c]:void 0}}(),ia=function(a,b,c,e){setTimeout(function(){a.apply(b,c||[])},e||0)},R=function(a){var b=a.stack||Error().stack;if("undefined"!=typeof console&&console.log)ia(function(){console.log(a);b&&console.log(b)});else throw a;},K=function(){},$=Array.prototype.slice,ja=function(){var a=/(^|[^a-z0-9_$])(\.)([^0-9])/ig,
b=Function,c=function(a,b,c,d){for(;c&&!c.$isRoot;)if(c=c.$parent)try{return 4==arguments.length?b.call(null,c,d,K,b):b.call(null,c,K,b)}catch(e){}null!==a&&R(a)},e=function(a,b){return function(){var d=$.call(arguments);d.push(c);d.push(a);d=a.apply(null,d);return b&&(void 0===d||"number"==typeof d&&isNaN(d))?(d=$.call(arguments),d.unshift(a),d.unshift(null),c.apply(null,d)):d}},d={},k=0,f={},n=0,p={},u=0,M=function(){1E3<=k&&(d={});1E3<=n&&(f={});1E3<=u&&(p={})};return{createGetter:function(c){try{return d[c]?
d[c]:(k++,d[c]=e(new b("____","$$interceptor","$$itself","".concat("try {","return ",c.replace(a,"$1____.$3"),";} catch (thrownError) { return $$interceptor(thrownError, $$itself, ____); }")),!0))}catch(f){return R(f),K}},createSetter:function(c){try{if(!f[c]){n++;var d=c.replace(a,"$1____.$3");return f[c]=e(new b("____","$$$$","$$interceptor","$$itself","".concat("try {",d," = $$$$",";} catch (thrownError) { return $$interceptor(thrownError, $$itself, ____, $$$$); }")))}return f[c]}catch(k){return R(k),
K}},createFunc:function(c){try{return p[c]?p[c]:(u++,p[c]=e(new b("____","$$interceptor","$$itself","".concat("try {",c.replace(a,"$1____.$3"),";} catch (thrownError) { return $$interceptor(thrownError, $$itself, ____); }"))))}catch(d){return R(d),K}},resetCache:M,enableResetCacheInterval:function(){setTimeout(M,1E4)}}}().createGetter,ka=/-./g,la=function(a){return a.replace(ka,function(a){return a.charAt(1).toUpperCase()})},ma=function(){return document.documentElement.dataset?function(a){return a.dataset}:
function(a){var b;if(void 0!==(b=J(a,"data")))return b;b=a.attributes;var c={},e,d;e=0;for(d=b.length;e<d;e++)c[la(b[e].name)]=b[e].value;b=c;J(a,"data",b);return b}}(),N=function(a,b,c,e){var d=void 0,k=J(a,"config"),f,n;if(!k){k={};if(d||null!==(d=a.getAttribute("mjs-config")))for(f in a.removeAttribute("mjs-config"),d=d?ja(d)({}):{},d)k[f]=d[f];d=ma(a);for(f in d)n=d[f],k[f]=""===n?!0:n;J(a,"config",k)}this.el=a;this.cb=b;this.scb=e;this.cbContext=c;this.inputType=b=k.type||a.type.toLowerCase();
this.listeners=[];c=a.type?a.type.toLowerCase():"";this.submittable="input"==a.nodeName.toLowerCase()&&"radio"!=c&&"checkbox"!=c;"radio"==b?this.initRadioInput():"checkbox"==b?this.initCheckboxInput():this.initTextInput()};N.prototype={el:null,inputType:null,cb:null,scb:null,cbContext:null,listeners:[],radio:null,submittable:!1,destroy:function(){var a=this.inputType,b=this.listeners,c=this.radio,e=this.el,d,k,f,n;d=0;for(k=b.length;d<k;d++)if("radio"==a)for(f=0,n=c.length;f<n;f++){var p=c[f],u=b[d][0],
M=b[d][1];p.detachEvent?p.detachEvent("on"+u,M):p.removeEventListener(u,M,!1)}else f=e,n=b[d][0],p=b[d][1],f.detachEvent?f.detachEvent("on"+n,p):f.removeEventListener(n,p,!1);delete this.radio;delete this.el;delete this.cb;delete this.cbContext},initRadioInput:function(){var a,b,c;this.radio=a=ga("input[name="+this.el.name+"]");this.onRadioInputChangeDelegate=W(this.onRadioInputChange,this);this.listeners.push(["click",this.onRadioInputChangeDelegate]);b=0;for(c=a.length;b<c;b++)x(a[b],"click",this.onRadioInputChangeDelegate)},
initCheckboxInput:function(){this.onCheckboxInputChangeDelegate=W(this.onCheckboxInputChange,this);this.listeners.push(["click",this.onCheckboxInputChangeDelegate]);x(this.el,"click",this.onCheckboxInputChangeDelegate)},initTextInput:function(){var a=!1,b=this,c=b.el,e=b.listeners,d;if(!ca()){var k=function(){a=!0},f=function(){a=!1;n()};e.push(["compositionstart",k]);e.push(["compositionend",f]);x(c,"compositionstart",k);x(c,"compositionend",f)}var n=b.onTextInputChangeDelegate=function(){if(!a)b.onTextInputChange()};
if(Z("input"))e.push(["input",n]),x(c,"input",n);else{var p=function(a){d||(d=window.setTimeout(function(){n(a);d=null},0))},k=function(a){a=a||window.event;var c=a.keyCode;if(13==c&&b.submittable&&b.scb)return b.scb.call(b.cbContext,a);91===c||15<c&&19>c||37<=c&&40>=c||p(a)};e.push(["keydown",k]);x(c,"keydown",k);Z("paste")&&(e.push(["paste",p]),e.push(["cut",p]),x(c,"paste",p),x(c,"cut",p))}e.push(["change",n]);x(c,"change",n)},processValue:function(a){switch(this.inputType){case "number":a=parseInt(a,
10),isNaN(a)&&(a=0)}return a},onTextInputChange:function(){var a=this.getValue();this.cb&&this.cb.call(this.cbContext,a)},onCheckboxInputChange:function(){var a=this.el;this.cb&&this.cb.call(this.cbContext,a.checked?a.getAttribute("value")||!0:!1)},onRadioInputChange:function(a){a=a||window.event;a=a.target||a.srcElement;this.cb&&this.cb.call(this.cbContext,a.value)},setValue:function(a){var b=this.inputType,c,e;if("radio"==b)for(b=this.radio,c=0,e=b.length;c<e;c++)b[c].checked=b[c].value==a;else"checkbox"==
b?(b=this.el,b.checked=!0===a||a==b.value):Y(this.el,a)},getValue:function(){var a=this.inputType,b,c;if("radio"==a){a=this.radio;b=0;for(c=a.length;b<c;b++)if(a[b].checked)return a[b].value;return null}return"checkbox"==a?this.el.checked?this.el.getAttribute("value")||!0:!1:this.processValue(z(this.el))}};N.getValue=z;N.setValue=Y;O.lib.Input=N;"undefined"!=typeof global?global.MetaphorJs=O:window.MetaphorJs=O})();
